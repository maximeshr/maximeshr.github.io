<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Maxime Sahroui - Créer des articles avec Thor et Jekyll</title>
  <meta name="description" content="Bonjour, je m'appelle Maxime Sahroui et je suis un développeur web belge de 25 ans. J'habite la magnifique région couvinoise et je crée des applications web de qualités pour mon entreprise : ranqed.
">


  <link rel="stylesheet" type='text/css'
    href="/css/style.css">
  <link rel="stylesheet" type='text/css'
    href="/css/code.min.css">

  <link href='http://fonts.googleapis.com/css?family=Fenix|Montserrat|Playfair+Display:700italic,400italic' rel='stylesheet' type='text/css'>

  <link rel="canonical" href="http://maximesahroui.be/ruby/2014/11/15/creer-simplement-des-articles-avec-thor-et-jekyll.html">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>


  <body>

    <div class="page-wrap">

  <section class="main-header regular">
  <div class="vertical-container">
    <div class="wrapper clearfix">
      <header>
        <a href="/">
        <h1 id="main-title">Maxime Sahroui</h1>
          <h2 id="main-subtitle">Chronique d'un développeur passionné</h2>
        </a>
      </header>
      <nav id="main-nav" role="navigation">
        <a href="/about/" class="">À propos</a>
        <a href="/blog/" class="">Mon Carnet</a>
        <a href="mailto:hello@maximesahroui.be">Me Contacter</a>
      </nav>
    </div>
  </div>
</section>


  <article class="main-content">
    <div class="wrapper">
      <header class="section-header">
        <h1 class="section-title">Créer des articles avec Thor et Jekyll</h1>
        <span class="section-subtitle"><time datetime="2014-11-15 00:00:00 +0100" pubdate>15 Nov 2014</time> &mdash; <span class="tag_list_link">ruby</span></span>
      </header>
      <section class="post-content">
        <p>Une simple astuce que j’utilise pour créer mes articles via la console (#ninjaDev).</p>

<p><code>$ gem install bundle thor // si ce n'est pas déjà fait !</code></p>

<p>Un petit fichier Gemfile à la racine du projet Jekyll suivi d’un <code>$ bundle install</code> :</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">source</span> <span class="s1">&#39;https://rubygems.org&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;thor&#39;</span>
<span class="n">gem</span> <span class="s1">&#39;stringex&#39;</span></code></pre></div>

<p>Créer le fichier .thor qui va faire le job (il est tout à fait personnalisable !) :</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">require</span> <span class="s2">&quot;stringex&quot;</span>

<span class="k">class</span> <span class="nc">Jekyll</span> <span class="o">&lt;</span> <span class="no">Thor</span>
  <span class="n">desc</span> <span class="s2">&quot;new&quot;</span><span class="p">,</span> <span class="s2">&quot;create a new post&quot;</span>
  <span class="n">method_option</span> <span class="ss">:editor</span><span class="p">,</span> <span class="ss">:default</span> <span class="o">=&gt;</span> <span class="s2">&quot;subl&quot;</span> <span class="sr">//</span> <span class="no">HERE</span> <span class="n">text</span> <span class="n">editor</span>
  <span class="k">def</span> <span class="nf">new</span><span class="p">(</span><span class="o">*</span><span class="n">title</span><span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="n">date</span> <span class="o">=</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-%d&#39;</span><span class="p">)</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;_posts/</span><span class="si">#{</span><span class="n">date</span><span class="si">}</span><span class="s2">-</span><span class="si">#{</span><span class="n">title</span><span class="o">.</span><span class="n">to_url</span><span class="si">}</span><span class="s2">.md&quot;</span>

    <span class="k">if</span> <span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
      <span class="nb">abort</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">#{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> already exists!&quot;</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="nb">puts</span> <span class="s2">&quot;Creating new post: </span><span class="si">#{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">post</span><span class="o">|</span>
      <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;---&quot;</span>
      <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;layout: post&quot;</span>
      <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;title: </span><span class="se">\&quot;</span><span class="si">#{</span><span class="n">title</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/&amp;/</span><span class="p">,</span><span class="s1">&#39;&amp;amp;&#39;</span><span class="p">)</span><span class="si">}</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
      <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;categories:&quot;</span>
      <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;  -&quot;</span>
      <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;---&quot;</span>
    <span class="k">end</span>

    <span class="nb">system</span><span class="p">(</span><span class="n">options</span><span class="o">[</span><span class="ss">:editor</span><span class="o">]</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>Il ne reste plus qu’à utiliser la ligne de commande pour créer votre fichier markdown :</p>

<p><code>$ thor jekyll:new Créer simplement des articles avec Thor et Jekyll</code></p>

<p>Si vous souhaitez de plus amples informations, c’est par ici :</p>

<ul>
  <li><a href="http://jekyllrb.com/">Jekyll</a></li>
  <li><a href="http://whatisthor.com/">Thor</a></li>
  <li><a href="https://github.com/rsl/stringex">Stringex</a></li>
</ul>

<p>Bonne lecture ;)</p>

        <div class="post-nav">
          <span class="section-subtitle">Partager sur <a href="https://twitter.com/home?status=Créer des articles avec Thor et Jekyll+http://maximesahroui.be/ruby/2014/11/15/creer-simplement-des-articles-avec-thor-et-jekyll.html" target="_blank">Twitter</a>, <a href="https://www.facebook.com/share.php?u=http://maximesahroui.be/ruby/2014/11/15/creer-simplement-des-articles-avec-thor-et-jekyll.html&amp;title=Créer des articles avec Thor et Jekyll" target="_blank">Facebook</a>, <a href="https://plus.google.com/share?url=http://maximesahroui.be/ruby/2014/11/15/creer-simplement-des-articles-avec-thor-et-jekyll.html" target="_blank">Google+</a></span><br>

          
            <a class="button prev" href="/autre/2014/11/14/lancement-de-mon-carnet-youpi.html">&larr; Précédent</a>
          
          <a class="button top" href="/blog/">Mon carnet</a>
          
            <a class="button next" href="/autre/2014/11/16/passage-au-standing-desk.html">Suivant &rarr;</a>
          

        </div>
      </section>
    </div>
  </article>
</div>

<footer class="main-footer">
  <div class="vertical-container">
    <div class="wrapper">
      <p class="copy">&copy; Copyright 2014 - 2015 &bull; <a href="mailto:hello@maximesahroui.be">Maxime Sahroui</a> &bull; Fièrement propulsé par <a href="http://www.jekyllrb.com">Jekyll</a> et <a href="http://www.w3schools.com/js/">Javascript</a> (&hearts;)</p>
      <ul class="social">
        <li><a href="https://www.twitter.com/maximeshr" target="_blank">Twitter</a></li>
        <li><a href="https://github.com/maximeshr" target="_blank">GitHub</a></li>
        <li><a href="https://linkedin.com/in/maximeshr" target="_blank">LinkedIn</a></li>
      </ul>
    </div>
  </div>
</footer>



    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/js/isotope.min.js"></script>
    <script src="/js/main.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-56769084-1', 'auto');
      ga('send', 'pageview');
    </script>

  </body>
</html>
