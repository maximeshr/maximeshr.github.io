<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Maxime Sahroui - Créer des articles avec Thor et Jekyll</title>
  <meta name="description" content="Bonjour, je m'appelle Maxime Sahroui et je suis un développeur web belge de 25 ans. J'habite la magnifique région couvinoise et je crée des applications web de qualités pour mon entreprise : ranqed.
">

  <link rel="stylesheet" type='text/css'
    href="/css/bootstrap.min.css">
  <link rel="stylesheet" type='text/css'
    href="/css/bootstrap-theme.min.css">
  <link rel="stylesheet" type='text/css'
    href="/css/font-awesome.min.css">
  <link rel="stylesheet" type='text/css'
    href="/css/code.min.css">
  <link rel="stylesheet" type='text/css'
    href="/css/main.css">

  <link rel='stylesheet' type='text/css'
    href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,800'>

  <link rel="canonical" href="http://maximesahroui.be/ruby/2014/11/15/creer-simplement-des-articles-avec-thor-et-jekyll.html">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>


  <body>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12 col-md-2 col-md-offset-2 sidebar">
          <div class="hello-world">
            <a href="/"><img src="/img/me.png" alt="Maxime Sahroui" class="img-responsive circular resized centered"></a>
            <h1>Bonjour, je m'appelle <a href="/">Maxime</a>.</h1>
            <hr>
            <p class="description">Bonjour, je m'appelle <strong>Maxime Sahroui</strong> et je suis un développeur web <strike>belge</strike> de 25 ans habitant la magnifique région couvinoise. Je crée des applications web de <strong>qualités</strong>. Plus d'informations ? (&darr;)</p>
            <hr>
            <div class="socials">
              <ul class="list-inline text-center">
                <li>
                  <a target="_blank" href="https://twitter.com/maximeshr"><i class="fa fa-2x fa-twitter-square"></i></a>
                </li>
                <li>
                  <a target="_blank" href="https://linkedin.com/in/maximeshr"><i class="fa fa-2x fa-linkedin-square"></i></a>
                </li>
                <li>
                  <a target="_blank" href="/feed.xml"><i class="fa fa-2x fa-rss-square"></i></a>
                </li>
                <li>
                  <a href="mailto:hello@maximesahroui.be"><i class="fa fa-2x fa-envelope-square"></i></a>
                </li>
              </ul>
            </div>
            <hr class="visible-sm visible-xs">
          </div>
        </div>
        <div class="col-sm-12 col-md-8 main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Créer des articles avec Thor et Jekyll</h1>
    <p class="post-meta">Nov 15, 2014 </p>
  </header>

  <article class="post-content">
    <p>Une simple astuce que j’utilise pour créer mes articles via la console (#ninjaDev).</p>

<p><code>$ gem install bundle thor // si ce n'est pas déjà fait !</code></p>

<p>Un petit fichier Gemfile à la racine du projet Jekyll suivi d’un <code>$ bundle install</code> :</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">source</span> <span class="s1">&#39;https://rubygems.org&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;thor&#39;</span>
<span class="n">gem</span> <span class="s1">&#39;stringex&#39;</span></code></pre></div>

<p>Créer le fichier .thor qui va faire le job (il est tout à fait personnalisable !) :</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">require</span> <span class="s2">&quot;stringex&quot;</span>

<span class="k">class</span> <span class="nc">Jekyll</span> <span class="o">&lt;</span> <span class="no">Thor</span>
  <span class="n">desc</span> <span class="s2">&quot;new&quot;</span><span class="p">,</span> <span class="s2">&quot;create a new post&quot;</span>
  <span class="n">method_option</span> <span class="ss">:editor</span><span class="p">,</span> <span class="ss">:default</span> <span class="o">=&gt;</span> <span class="s2">&quot;subl&quot;</span> <span class="sr">//</span> <span class="no">HERE</span> <span class="n">text</span> <span class="n">editor</span>
  <span class="k">def</span> <span class="nf">new</span><span class="p">(</span><span class="o">*</span><span class="n">title</span><span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="n">date</span> <span class="o">=</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-%d&#39;</span><span class="p">)</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;_posts/</span><span class="si">#{</span><span class="n">date</span><span class="si">}</span><span class="s2">-</span><span class="si">#{</span><span class="n">title</span><span class="o">.</span><span class="n">to_url</span><span class="si">}</span><span class="s2">.md&quot;</span>

    <span class="k">if</span> <span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
      <span class="nb">abort</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">#{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> already exists!&quot;</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="nb">puts</span> <span class="s2">&quot;Creating new post: </span><span class="si">#{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">post</span><span class="o">|</span>
      <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;---&quot;</span>
      <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;layout: post&quot;</span>
      <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;title: </span><span class="se">\&quot;</span><span class="si">#{</span><span class="n">title</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/&amp;/</span><span class="p">,</span><span class="s1">&#39;&amp;amp;&#39;</span><span class="p">)</span><span class="si">}</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
      <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;categories:&quot;</span>
      <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot; -&quot;</span>
      <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;---&quot;</span>
    <span class="k">end</span>

    <span class="nb">system</span><span class="p">(</span><span class="n">options</span><span class="o">[</span><span class="ss">:editor</span><span class="o">]</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>Il ne reste plus qu’à utiliser la ligne de commande pour créer votre fichier markdown :</p>

<p><code>$ thor jekyll:new Créer simplement des articles avec Thor et Jekyll</code></p>

<p>Si vous souhaitez de plus amples informations, c’est par ici :</p>

<ul>
  <li><a href="http://jekyllrb.com/">Jekyll</a></li>
  <li><a href="http://whatisthor.com/">Thor</a></li>
  <li><a href="https://github.com/rsl/stringex">Stringex</a></li>
</ul>

<p>Bonne lecture ;)</p>

    <p class="share"><a href="https://twitter.com/share" class="twitter-share-button" data-via="maximeshr">Tweet</a></p>
  </article>

  <p class="back-link"><a href="/">Retour (&larr;)</a> <span class="pull-right"><a href="mailto:hello@maximesahroui.be">Une question ?</a></span></p>

</div>

<div class="lastest-posts">
  <h3>Découvrez mes derniers articles :</h3>
  <ul class="list-unstyled">
  
    <li class="element-item freelance"
        data-category="freelance">
      <span class="post-meta">28 Nov 2014</span>
      <a class="post-link" href="/freelance/2014/11/28/may-the-freelance-spirit-be-with-me.html">May the Freelance Spirit be with me</a>
    </li>
  
    <li class="element-item javascript"
        data-category="javascript">
      <span class="post-meta">18 Nov 2014</span>
      <a class="post-link" href="/javascript/2014/11/18/installer-node-dot-js-sans-les-droits-administrateur-sous-ubuntu.html">Installer Node.js sans les droits administrateur sous Ubuntu</a>
    </li>
  
    <li class="element-item autre"
        data-category="autre">
      <span class="post-meta">16 Nov 2014</span>
      <a class="post-link" href="/autre/2014/11/16/passage-au-standing-desk.html">Passage au Standing Desk</a>
    </li>
  
  </ul>
</div>


          <footer class="text-center">
  <p>&copy; Copyright 2014 &bull; Maxime Sahroui &bull; Fièrement propulsé par <a href="http://www.jekyllrb.com">Jekyll</a> et <a href="http://www.w3schools.com/js/">Javascript</a> (&hearts;).</p>
</footer>


        </div>
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/isotope.min.js"></script>
    <script src="/js/main.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-56769084-1', 'auto');
      ga('send', 'pageview');
    </script>

    <script>
      !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
    </script>
  </body>
</html>
