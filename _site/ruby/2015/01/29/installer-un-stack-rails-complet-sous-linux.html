<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Maxime Sahroui - Freelance JavaScript Developer - Installer un stack Rails complet sous Linux</title>
  <meta name="description" content="Je croise de plus en plus d’utilisateurs sur internet qui n’arrivent pas à configurer correctement Ruby et Rails sur leurs machines virtuelles… Voici un peti...">

  <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:300,500,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://maximesahroui.be/ruby/2015/01/29/installer-un-stack-rails-complet-sous-linux.html">
  <link rel="alternate" type="application/rss+xml" title="Maxime Sahroui - Freelance JavaScript Developer" href="http://maximesahroui.be/feed.xml" />
</head>


  <body>

    <header class="site-header">
  <div class="wrapper">
    <div class="col-wrapper">
      <div class="col col-3 text-center">
        <img class="picture" src="/img/me.png">
      </div>
      <div class="col col-9">
        <h1 class="page-heading">Hi, I'm Maxime<br />
        A freelance JavaScript developer based in Belgium</h1>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">
      <a href="/">Accueil</a> / Installer un stack Rails complet sous Linux
    </h1>
    <div class="col-wrapper">
      <div class="col col-6">
        <span class="text-underline">Date</span>: Jan 29, 2015
      </div>
      <div class="col col-6">
        <span class="text-underline">Tags</span>: ruby
      </div>
    </div>
  </header>

  <article class="post-content">
    <p>Je croise de plus en plus d’utilisateurs sur internet qui n’arrivent pas à configurer correctement Ruby et Rails sur leurs machines virtuelles… Voici un petit guide rapide et sympathique que j’utilise pour travailler. Ce guide comprend l’installation de :</p>

<ul>
  <li>Ruby (avec RVM ou RBENV)</li>
  <li>Git</li>
  <li>Rails</li>
  <li>MySQL</li>
  <li>PostgreSQL</li>
</ul>

<h2 id="installation-de-ruby">Installation de Ruby</h2>

<p>Nous allons installer la dernière version stable de Ruby : <strong>2.2.0</strong></p>

<p>La première étape consiste en l’installation des dépendances :</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sudo apt-get update
<span class="nv">$ </span>sudo apt-get install git-core curl zlib1g-dev build-essential libssl-dev libreadline-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt1-dev libcurl4-openssl-dev python-software-properties</code></pre></div>

<p>Maintenant deux choix s’offrent à vous : utiliser <a href="https://rvm.io/">RVM</a> ou <a href="http://rbenv.org/">RBENV</a> (voir compiler vous même les sources, c’est possible et fonctionnel). Pour ce qui est de mon choix personnel, je préfère utiliser RVM que je trouve plus simple d’utilisation surtout au niveau de la gestion des gemsets (principalement la syntaxe de création). Je vous conseil la lecture de ce <a href="http://jonathan-jackson.net/rvm-and-rbenv">post</a> pour un avis plutôt objectif.</p>

<p>Attention, si comme moi, vous n’utiliser pas le bash (pour moi : <a href="http://www.zsh.org/">zsh</a> avec <a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a>), modifiez le fichier suivant <strong>.bashrc</strong> par votre fichier de configuration !</p>

<h4 id="installation-via-rvm">Installation via RVM</h4>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sudo apt-get install libgdbm-dev libncurses5-dev automake libtool bison libffi-dev
<span class="nv">$ </span>curl -L https://get.rvm.io <span class="p">|</span> bash -s stable
<span class="nv">$ </span><span class="nb">source</span> ~/.rvm/scripts/rvm
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;source ~/.rvm/scripts/rvm&quot;</span> &gt;&gt; ~/.bashrc
<span class="nv">$ </span>rvm install 2.2.0
<span class="nv">$ </span>rvm use 2.2.0 --default
<span class="nv">$ </span>ruby -v</code></pre></div>

<h4 id="installation-via-rbenv">Installation via RBENV</h4>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">cd</span>
<span class="nv">$ </span>git clone git://github.com/sstephenson/rbenv.git .rbenv
<span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;export PATH=&quot;$HOME/.rbenv/bin:$PATH&quot;&#39;</span> &gt;&gt; ~/.bashrc
<span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;eval &quot;$(rbenv init -)&quot;&#39;</span> &gt;&gt; ~/.bashrc
<span class="nv">$ </span><span class="nb">exec</span> <span class="nv">$SHELL</span>

<span class="nv">$ </span>git clone git://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build
<span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;export PATH=&quot;$HOME/.rbenv/plugins/ruby-build/bin:$PATH&quot;&#39;</span> &gt;&gt; ~/.bashrc
<span class="nv">$ </span><span class="nb">exec</span> <span class="nv">$SHELL</span>

<span class="nv">$ </span>rbenv install 2.2.0
<span class="nv">$ </span>rbenv global 2.2.0
<span class="nv">$ </span>ruby -v</code></pre></div>

<p>Dernière petite astuce concernant la non-installation de la documentation de vos packages localement (pour une installation plus rapide) :</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;gem: --no-ri --no-rdoc&quot;</span> &gt; ~/.gemrc<span class="sb">`</span></code></pre></div>

<p>Rien de bien complexe n’est-ce pas ? :D</p>

<h2 id="configuration-de-git">Configuration de Git</h2>

<p>Je ne vais pas vous expliquer ce qu’est git, certains <a href="http://git-scm.com/">sites</a> le font mieux que moi. Pour les plus débutants, je conseil un petit tour du coté de <a href="https://try.github.io/levels/1/challenges/1">trygit</a> pour se faire une idée de l’outil. Sachez qu’il s’agit, actuellement, du meilleur outil de versioning au monde. Et ceux qui me diront que SVN c’est de la bombe… et bah c’est faux !</p>

<p>Pour la configuration :</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>git config --global color.ui <span class="nb">true</span>
<span class="nv">$ </span>git config --global user.name <span class="s2">&quot;VOTRE NOM&quot;</span>
<span class="nv">$ </span>git config --global user.email <span class="s2">&quot;VOTRE@EMAIL.com&quot;</span>
<span class="nv">$ </span>ssh-keygen -t rsa -C <span class="s2">&quot;VOTRE@EMAIL.com&quot;</span></code></pre></div>

<p>La dernière ligne n’est utile que si vous souhaitez lier votre compte <a href="https://github.com/">GitHub</a> pour éviter de vous authentifier à chaque fois. Je vous laisse lire la <a href="https://help.github.com/articles/generating-ssh-keys/">documentation</a> à ce propos.</p>

<h2 id="installation-de-rails">Installation de Rails</h2>

<p>Premièrement, vous devez installer nodejs pour permettre à coffeescript de fonctionner correctement. Pour cela, je vous invite à consulter <a href="http://maximesahroui.be/javascript/2014/11/18/installer-node-dot-js-sans-les-droits-administrateur-sous-ubuntu.html">mon article</a> sur ce sujet.</p>

<p>Pour la suite, rien de difficile :</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>gem install rails
<span class="nv">$ </span>rails -v</code></pre></div>

<p>Si vous utilisez RBENV, n’oubliez pas de faire un coup de <code>$ rbenv rehash</code> après l’installation d’une gem !</p>

<h2 id="installation-de-mysql">Installation de MySQL</h2>

<p>Par défault, Rails utilise sqlite3, mais souvent, vous aurez besoin d’un DBMS moins versatile ! Pour cela, installez MySQL simplement :</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sudo apt-get install mysql-server mysql-client libmysqlclient-dev</code></pre></div>

<p>Voilà pour la configuration du stack.</p>

<h2 id="crer-une-application-rails">Créer une application Rails</h2>

<p>Créons maintenant notre application Ruby on Rails :</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># &#39;rails new myapp&#39; va créer une application avec sqlite3</span>
<span class="c"># ici nous souhaitons utiliser mysql</span>
rails new myapp -d mysql

<span class="c"># changement de répertoire</span>
<span class="nb">cd </span>myapp

<span class="c"># modifiez le fichier config/database.yml avec</span>
<span class="c"># les informations de votre base de données avant</span>
<span class="c"># de lancer cette commande qui créera votre base de données</span>
rake db:create

<span class="c"># lancez votre serveur sur localhost:3000 (par défaut)</span>
rails server</code></pre></div>

<p>Votre application est disponible via l’url : <a href="http://localhost:3000">http://localhost:3000</a></p>

  </article>

  <div class="share text-right">
    <a href="https://twitter.com/share" class="twitter-share-button" data-via="maximeshr">Tweet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </div>

</div>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    Copyright &copy; 2015 Maxime Sahroui, www.maximesahroui.be
  </div>
</footer>


  </body>

</html>
